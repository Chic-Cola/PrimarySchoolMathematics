import{_ as N,r as H,G as O,C as V,e as A,B as D,n as h,f as E,o,c as s,b as i,F as _,d as f,u as F,h as v,w,s as M,A as b,t as g,H as y,i as x}from"./index.973572fc.js";import{u as z}from"./app.6c477ede.js";const R={class:"A4"},W={class:"mt-12 mb-12"},q={class:"row"},G={key:0,class:"btn"},I={__name:"Print",setup(L){const r=H(!1),C=O(),P=V(),k=z(),S=A(()=>k.printPreviewPapers.map(t=>{const{paperTitle:u,paperSubTitle:a,numberOfPagerColumns:e,solution:l,formulas:n}=t,p=n.length/e,d=100/e,T=l=="0"?"16px":"160px";let c=[],m=0;for(;m<n.length;)c.push(n.slice(m,p+m)),m+=p;return c=c.reverse(),console.log(c),{paperTitle:u,paperSubTitle:a,columnsOfPaper:c,colWidth:d,rowHeight:T}}));D(()=>{const t=new Date,u=t.getFullYear(),a=t.getMonth()+1,e=t.getDate(),l=t.getHours(),n=t.getMinutes(),p=t.getSeconds(),d=`${u}${a}${e}${l}${n}${p}`;console.log(d),document.title=C.query.fileName+d,window.onbeforeprint=()=>{console.log("before"),r.value=!0},window.onafterprint=()=>{console.log("after"),h(()=>{r.value=!1})}});const $=()=>{P.back()},B=()=>{r.value=!0,h(()=>{window.print()})};return(t,u)=>{const a=E("ElButton");return o(),s("div",{class:b({preview:!r.value})},[i("div",R,[(o(!0),s(_,null,f(F(S),e=>(o(),s("div",{class:b(["sheet padding-10mm",{"sheet-shadow":!r.value}])},[i("div",W,[i("h1",null,g(e.paperTitle),1),i("h3",null,g(e.paperSubTitle),1)]),i("div",q,[(o(!0),s(_,null,f(e.columnsOfPaper,l=>(o(),s("div",{style:y(`width: ${e.colWidth}%;`)},[(o(!0),s(_,null,f(l,n=>(o(),s("p",{style:y(`margin-bottom: ${e.rowHeight}`)},g(n),5))),256))],4))),256))])],2))),256)),r.value?M("",!0):(o(),s("div",G,[v(a,{onClick:$},{default:w(()=>[x("\u8FD4\u56DE")]),_:1}),v(a,{class:"mr-2 w-32",type:"primary",onClick:B},{default:w(()=>[x("\u6253\u5370")]),_:1})]))])],2)}}},J=N(I,[["__scopeId","data-v-ad3ea0b9"]]);export{J as default};
